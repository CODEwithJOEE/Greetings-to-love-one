<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Monthssary, My Baby üíó</title>

  <!-- Cute fonts (optional). If offline, it will fall back to system fonts. -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#fff4f8;
      --bg2:#f3f7ff;
      --ink:#2b2b2b;
      --muted:#616161;
      --pink:#ff5aa5;
      --rose:#ff8fc3;
      --lav:#8a7dff;
      --card:rgba(255,255,255,.72);
      --stroke:rgba(255,255,255,.55);
      --shadow: 0 18px 60px rgba(25, 25, 40, .12);
      --shadow2: 0 10px 28px rgba(25, 25, 40, .10);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: "Quicksand", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 900px at 20% 10%, rgba(255,90,165,.20), transparent 55%),
        radial-gradient(900px 700px at 85% 20%, rgba(138,125,255,.18), transparent 55%),
        radial-gradient(900px 700px at 40% 95%, rgba(255,143,195,.20), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }

    /* Floating hearts background */
    .hearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
      filter: blur(.2px);
    }
    .heart{
      position:absolute;
      width:14px;
      height:14px;
      transform: rotate(45deg);
      opacity:.28;
      animation: floatUp linear infinite;
      background: rgba(255,90,165,.75);
      border-radius: 3px;
      box-shadow: 0 8px 22px rgba(255,90,165,.25);
    }
    .heart::before, .heart::after{
      content:"";
      position:absolute;
      width:14px;
      height:14px;
      border-radius: 50%;
      background: inherit;
    }
    .heart::before{ left:-7px; top:0; }
    .heart::after{ left:0; top:-7px; }

    @keyframes floatUp{
      from { transform: translateY(110vh) rotate(45deg) scale(.9); }
      to   { transform: translateY(-20vh) rotate(45deg) scale(1.15); }
    }

    /* Layout */
    .wrap{
      position:relative;
      z-index:1;
      max-width: 980px;
      margin: 0 auto;
      padding: 26px 18px 70px;
    }

    header{
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-top: 6px;
    }

    .badge{
      max-width: 100%;
      flex-wrap: wrap;
      line-height: 1.25;
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.55);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow2);
      font-weight: 600;
      color: var(--muted);
    }
    .badge b{ color: var(--ink); }

    .btn{
      appearance:none;
      border:0;
      cursor:pointer;
      padding: 11px 14px;
      border-radius: 999px;
      font-weight: 700;
      letter-spacing:.2px;
      background: linear-gradient(135deg, var(--pink), var(--lav));
      color:white;
      box-shadow: 0 14px 32px rgba(255,90,165,.22);
      transition: transform .15s ease, filter .15s ease;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.03); }
    .btn:active{ transform: translateY(0px) scale(.99); }

    .hero{
      margin-top: 18px;
      border-radius: var(--radius);
      background: linear-gradient(135deg, rgba(255,255,255,.70), rgba(255,255,255,.52));
      border: 1px solid var(--stroke);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    /* Optional: add a soft overlay so text stays readable */
.hero::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(
    to right,
    rgba(255,255,255,.40) 0%,
    rgba(255,255,255,.65) 38%,
    rgba(255,255,255,.88) 62%,
    rgba(255,255,255,1) 85%
  );
  z-index: 1;
}


.heroBgPhoto{
  position:absolute;
  inset:0;
  background-image: url("img/thea.png");
  background-repeat: no-repeat;
  background-size: 560px auto;
  background-position: left 40px center;

  opacity: 0.55;            /* stronger */
  filter: none;             /* remove blur so face is clear */
  transform: scale(1.02);
  pointer-events:none;
  z-index: 0;
}



@media (max-width: 820px){
  .heroBgPhoto{
    background-size: 360px auto;
    background-position: center 120px;
    opacity: 0.38;
  }
}



    .heroInner{
        position: relative;
  z-index: 2;
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 18px;
      padding: 22px;
      align-items:center;
    }

    @media (max-width: 820px){
      .heroInner{ grid-template-columns: 1fr; }
    }
@media (max-width: 420px){
  .ph{ height: 96px; }
}

@media (max-width: 420px){
  .modalTop{ padding: 14px 14px 8px; }
  .modalBody{ padding: 0 14px 14px; }
}

    .kicker{
      display:inline-block;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255,90,165,.12);
      border: 1px solid rgba(255,90,165,.16);
      color: #b42063;
      font-weight:700;
      font-size: 13px;
      letter-spacing:.3px;
    }

    h1{
      margin: 10px 0 10px;
      font-family: "Playfair Display", Georgia, serif;
      font-size: clamp(34px, 5vw, 54px);
      line-height: 1.05;
    }

    .sub{
      margin: 0;
      color: var(--muted);
      font-size: 16px;
      line-height: 1.55;
      max-width: 55ch;
    }

    .heroCard{
      border-radius: 18px;
      background: rgba(255,255,255,.66);
      border: 1px solid rgba(255,255,255,.6);
      box-shadow: var(--shadow2);
      padding: 16px 16px 14px;
      position:relative;
      overflow:hidden;
      min-height: 220px;
    }

    .photoGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 10px;
    }

    .ph{
      height: 112px;
      border-radius: 14px;
      background:
        linear-gradient(135deg, rgba(255,90,165,.16), rgba(138,125,255,.16));
      border: 1px dashed rgba(255,90,165,.28);
      display:flex;
      align-items:center;
      justify-content:center;
      color: rgba(43,43,43,.65);
      font-weight:700;
      font-size: 12px;
      text-align:center;
      padding: 10px;
      overflow:hidden;
    }
    .ph img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .section{
      margin-top: 18px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    @media (max-width: 820px){
      .section{ grid-template-columns: 1fr; }
    }

    .card{
      border-radius: var(--radius);
      background: var(--card);
      border: 1px solid var(--stroke);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow2);
      padding: 18px 18px 16px;
    }

    .titleRow{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 12px;
      margin-bottom: 10px;
    }

    h2{
      margin:0;
      font-family:"Playfair Display", Georgia, serif;
      font-size: 22px;
      letter-spacing:.2px;
    }

    .pill{
      padding: 7px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 800;
      color: #6a1b44;
      background: rgba(255,90,165,.12);
      border: 1px solid rgba(255,90,165,.18);
      white-space:nowrap;
    }

    .letter{
      color: var(--muted);
      line-height: 1.75;
      font-size: 15px;
      margin: 0;
    }

    .timeline{
      display:grid;
      gap: 10px;
      margin-top: 12px;
    }
    .moment{
      display:flex;
      gap: 12px;
      align-items:flex-start;
      padding: 12px;
      border-radius: 16px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.5);
    }
    .dot{
      width: 12px;
      height: 12px;
      border-radius: 999px;
      margin-top: 4px;
      background: linear-gradient(135deg, var(--pink), var(--lav));
      box-shadow: 0 8px 20px rgba(255,90,165,.25);
      flex: 0 0 auto;
    }
    .moment b{
      display:block;
      margin-bottom: 2px;
      font-size: 14px;
    }
    .moment span{
      display:block;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.5;
    }

    .footer{
      text-align:center;
      color: rgba(43,43,43,.6);
      margin-top: 16px;
      font-size: 13px;
    }

    /* Modal (animated) */
    .overlay{
      position:fixed;
      inset:0;
      background: rgba(15, 10, 20, .42);
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 20;

      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity .18s ease, visibility .18s ease;
    }
    .overlay.show{
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }

    .modal{
      max-width: 720px;
      width: 100%;
      border-radius: 26px;
      background: rgba(255,255,255,.80);
      border: 1px solid rgba(255,255,255,.65);
      backdrop-filter: blur(16px);
      box-shadow: 0 30px 90px rgba(0,0,0,.25);
      overflow:hidden;
      position:relative;

      transform: translateY(8px) scale(.98);
      opacity: 0;
      transition: transform .2s ease, opacity .2s ease;
    }
    .overlay.show .modal{
      transform: translateY(0) scale(1);
      opacity: 1;
    }

    .modalTop{
      padding: 18px 18px 10px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
    }
    .x{
      border:0;
      background: rgba(255,90,165,.14);
      color:#7a1c49;
      font-weight:900;
      width: 40px;
      height: 40px;
      border-radius: 999px;
      cursor:pointer;
    }
    .modalBody{
      padding: 0 18px 18px;
      display:grid;
      gap: 12px;
    }
    .bigMessage{
      font-family:"Playfair Display", Georgia, serif;
      font-size: clamp(22px, 3.5vw, 34px);
      margin: 0;
      line-height: 1.18;
    }
    .smallMessage{
      margin:0;
      color: var(--muted);
      line-height: 1.75;
    }
    .gift{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      margin-top: 8px;
    }
    .tag{
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(138,125,255,.12);
      border: 1px solid rgba(138,125,255,.18);
      color: #3f35a5;
      font-weight: 800;
      font-size: 12px;
    }

    /* Little sparkle */
    .shine{
      position:absolute;
      inset:-60px;
      background: conic-gradient(from 210deg, transparent 0 30%, rgba(255,255,255,.22), transparent 40% 100%);
      transform: rotate(12deg);
      opacity:.35;
      pointer-events:none;
      animation: sweep 7s ease-in-out infinite;
    }
    @keyframes sweep{
      0%, 100%{ transform: translateX(-20%) rotate(12deg); }
      50%{ transform: translateX(25%) rotate(12deg); }
    }

    /* Tiny toast */
    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform: translateX(-50%);
      background: rgba(255,255,255,.78);
      border: 1px solid rgba(255,255,255,.6);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow2);
      padding: 10px 12px;
      border-radius: 999px;
      font-weight: 700;
      color: rgba(43,43,43,.72);
      display:none;
      z-index: 25;
    }
    .toast.show{ display:block; }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      .overlay, .modal, .shine, .heart { animation: none !important; transition: none !important; }
    }


@media (max-width: 820px){

  .mainPhoto{
    margin-top: 10px;
    justify-self: start;
  }
}

.mainPhoto{
  width: 170px;
  height: 170px;
  border-radius: 22px;
  overflow:hidden;
  border: 3px solid rgba(255, 90, 165, .25);
  background: rgba(255,255,255,.55);
  box-shadow: 0 18px 45px rgba(25, 25, 40, .12);
  position: relative;
}

.mainPhoto img{
  width:100%;
  height:100%;
  object-fit: cover;
  display:block;
}

/* cute glow */
.mainPhoto::after{
  content:"";
  position:absolute;
  inset:-30px;
  background: radial-gradient(circle, rgba(255,90,165,.25), transparent 60%);
  pointer-events:none;
}

  </style>
</head>

<body>
  <div class="hearts" id="hearts"></div>

  <div class="wrap">
    <header>
      <div class="badge">
        üíû <b id="monthsOrdinal">47th</b> monthssary ‚Ä¢
        <span id="dateText"></span> ‚Ä¢
        <span id="sinceText"></span>
      </div>

      <button class="btn" id="openBtn">Open Surprise üéÅ</button>
    </header>

<section class="hero">
  <div class="shine"></div>

  <!-- HER BACKGROUND PHOTO -->
  <div class="heroBgPhoto"></div>

  <div class="heroInner">
<div class="heroLeft">
  <div class="heroText">
    <span class="kicker">Happy Monthssary</span>
    <h1>Hi <span id="babyName">Baby</span> üíó</h1>
    <p class="sub" id="heroLine">
      Another month with you feels like a soft sunrise‚Äîwarm, calm, and something I always want to wake up to.
    </p>
  </div>

</div>


        <div class="heroCard">
          <div style="display:flex; justify-content:space-between; align-items:center; gap:10px;">
            <div style="font-weight:800;">Our little gallery</div>
          </div>
          <div class="photoGrid">
            <!-- Replace with your own images -->
            <div class="ph">
              <img alt="Photo 1" src="img/1.jpg">
            </div>
            <div class="ph">
              <img alt="Photo 2" src="img/2.jpeg">
            </div>
            <div class="ph">
              <img alt="Photo 3" src="img/3.jpeg">
            </div>
            <div class="ph">
              <img alt="Photo 4" src="img/4.jpeg">
            </div>
                        <div class="ph">
              <img alt="Photo 5" src="img/5.jpeg">
            </div>
                        <div class="ph">
              <img alt="Photo 6" src="img/6.jpeg">
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="card">
        <div class="titleRow">
          <h2>My message for you</h2>
          <span class="pill">from me ‚Üí to you</span>
        </div>

        <p class="letter" id="letter">
          Baby, happy monthssary. Thank you for being my safe place, my favorite person, my best friend, my companion.
          I love the way you make ordinary moments feel special. I‚Äôm proud of us of how we keep choosing each other.
          <br><br>
          This month, I‚Äôm wishing for more laughs, more hugs, and more fights lol.
          Always remember: I‚Äôm with you, and I‚Äôm grateful for you; I LOVE YOU. üíó
        </p>
      </div>

      <div class="card">
        <div class="titleRow">
          <h2>Our little timeline</h2>
          <span class="pill">tiny memories</span>
        </div>

        <div class="timeline" id="timeline">
          <div class="moment">
            <div class="dot"></div>
            <div>
              <b>Our favorite thing</b>
              <span>‚ÄúLate-night calls‚Äù, Tawanan, Away at Tampuhan. Pati pala Landian HAAHAHA.</span>
            </div>
          </div>

          <div class="moment">
            <div class="dot"></div>
            <div>
              <b>My promise</b>
              <span>I‚Äôll keep loving you gently, honestly, and loudly‚Äîevery month, every day.</span>
            </div>
          </div>
        </div>

        <div class="footer">Made with love ‚Ä¢ üíó</div>
      </div>
    </section>
  </div>

  <!-- Surprise Modal -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Surprise message">
      <div class="shine"></div>
      <div class="modalTop">
        <div style="font-weight:900;">Surprise for you ü•π</div>
        <button class="x" id="closeBtn" aria-label="Close">‚úï</button>
      </div>

      <div class="modalBody">
        <p class="bigMessage" id="surpriseTitle">I choose you‚Äîagain and again.</p>
        <p class="smallMessage" id="surpriseBody">
          No matter how busy the days get, you‚Äôre my favorite part of life.
          Thank you for loving me the way you do. Happy monthssary, my baby. üíó
        </p>

        <div class="gift"></div>

        <canvas id="burst" style="width:100%; height:120px; border-radius:16px; background:rgba(255,255,255,.45);"></canvas>

        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn" id="copyBtn" style="width: fit-content;">Copy a sweet line ‚ú®</button>
          <button class="btn" id="shareBtn" style="width: fit-content;">Share üíå</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">Copied! üíó</div>

<script>
const config = {
  babyName: "Baby",
  startDate: "2022-03-11", // YYYY-MM-DD
  heroLine: "Another month with you feels like a soft sunrise warm, calm, and something I always want to wake up to.",
  letter: `Baby, happy monthssary. Thank you for being my safe place, my favorite person, my best friend, my companion.
I love the way you make ordinary moments feel special. I‚Äôm proud of us of how we keep choosing each other. This month, I‚Äôm wishing for more laughs, more hugs, more ‚ÄúI miss you‚Äù moments that end in ‚ÄúI‚Äôm here now.‚Äù
Always remember: I‚Äôm with you, I‚Äôm for you, and I‚Äôm grateful for you. üíó`,
  copyLines: [
    "Happy monthssary, baby. You‚Äôre my favorite person. üíó",
    "I‚Äôll keep choosing you‚Äîevery day, every month.",
    "You feel like home to me.",
    "Thank you for loving me softly and truly."
  ],
  surprises: [
    {
      title: "I choose you‚Äîagain and again.",
      body: "No matter how busy the days get, you‚Äôre my favorite part of life. Happy monthssary, my baby. üíó",
      tags: ["more dates", "more kisses", "more us", "forever energy"]
    },
    {
      title: "Still my favorite hello.",
      body: "Even after all this time, you‚Äôre the one I want to tell everything to. Happy monthssary, baby. üíó",
      tags: ["soft love", "safe home", "always you", "steady hearts"]
    },
    {
      title: "You‚Äôre my calm.",
      body: "Thank you for being the peace I didn‚Äôt know I needed. I love you. üíó",
      tags: ["gentle days", "warm hugs", "deep talks", "us always"]
    }
  ]
};

function ordinal(n){
  const s = ["th","st","nd","rd"];
  const v = n % 100;
  return n + (s[(v-20)%10] || s[v] || s[0]);
}

function monthsSinceStart(start, now){
  const startY = start.getFullYear();
  const startM = start.getMonth();
  const nowY = now.getFullYear();
  const nowM = now.getMonth();

  let months = (nowY - startY) * 12 + (nowM - startM);

  const anniversaryDay = start.getDate();
  if (now.getDate() < anniversaryDay) months -= 1;

  return Math.max(0, months);
}

function formatLongDate(d){
  return new Intl.DateTimeFormat(undefined, { year:"numeric", month:"long", day:"numeric" }).format(d);
}

// Apply config + auto dates/count
const start = new Date(config.startDate + "T00:00:00");
const now = new Date();

const monthCount = monthsSinceStart(start, now);
document.getElementById("monthsOrdinal").textContent = ordinal(monthCount);
document.getElementById("sinceText").textContent = "Since " + formatLongDate(start);
document.getElementById("dateText").textContent = formatLongDate(now);

document.getElementById("babyName").textContent = config.babyName;
document.getElementById("heroLine").textContent = config.heroLine;

// Keep line breaks in the letter:
document.getElementById("letter").innerHTML = config.letter.replace(/\n/g, "<br>");

// Floating hearts generator
const hearts = document.getElementById("hearts");
const HEART_COUNT = 26;

function rand(min, max){ return Math.random() * (max - min) + min; }

for(let i=0;i<HEART_COUNT;i++){
  const h = document.createElement("div");
  h.className = "heart";
  const size = rand(10, 18);
  h.style.width = size + "px";
  h.style.height = size + "px";
  h.style.left = rand(0, 100) + "vw";
  h.style.animationDuration = rand(8, 18) + "s";
  h.style.animationDelay = rand(-18, 0) + "s";

  const tint = Math.random();
  if(tint < 0.33) h.style.background = "rgba(255,90,165,.75)";
  else if(tint < 0.66) h.style.background = "rgba(138,125,255,.55)";
  else h.style.background = "rgba(255,143,195,.65)";

  hearts.appendChild(h);
}

// Modal logic + focus restore + scroll lock
const overlay = document.getElementById("overlay");
const openBtn = document.getElementById("openBtn");
const closeBtn = document.getElementById("closeBtn");
let lastFocus = null;
let lastSurpriseIndex = -1;

function renderTags(tags){
  const gift = document.querySelector(".gift");
  gift.innerHTML = "";
  tags.forEach(t=>{
    const s = document.createElement("span");
    s.className = "tag";
    s.textContent = t;
    gift.appendChild(s);
  });
}

function pickNewSurprise(){
  const list = config.surprises || [];
  if(!list.length) return null;

  let i = Math.floor(Math.random() * list.length);
  if(list.length > 1){
    while(i === lastSurpriseIndex) i = Math.floor(Math.random() * list.length);
  }
  lastSurpriseIndex = i;
  return list[i];
}

// Burst canvas
const burstCanvas = document.getElementById("burst");
const btx = burstCanvas.getContext("2d");

function resizeBurst(){
  const rect = burstCanvas.getBoundingClientRect();
  burstCanvas.width = Math.floor(rect.width * devicePixelRatio);
  burstCanvas.height = Math.floor(rect.height * devicePixelRatio);
  btx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
}
window.addEventListener("resize", resizeBurst);

function burstHearts(){
  resizeBurst();
  const rect = burstCanvas.getBoundingClientRect();
  const W = rect.width, H = rect.height;

  const parts = Array.from({length: 24}, ()=>({
    x: W/2,
    y: H*0.75,
    vx: (Math.random()-0.5)*6,
    vy: -Math.random()*6 - 2,
    r: Math.random()*5 + 3,
    life: 60 + Math.random()*20
  }));

  let t = 0;
  function frame(){
    t++;
    btx.clearRect(0,0,W,H);

    // alternating pink/lav look (without setting many styles)
    parts.forEach((p, idx)=>{
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.10;
      p.life -= 1;

      btx.globalAlpha = Math.max(0, p.life/80);
      btx.fillStyle = (idx % 2 === 0) ? "rgba(255,90,165,.9)" : "rgba(138,125,255,.75)";
      btx.beginPath();
      btx.arc(p.x, p.y, p.r, 0, Math.PI*2);
      btx.fill();
    });

    if(t < 90) requestAnimationFrame(frame);
    else btx.clearRect(0,0,W,H);
  }
  requestAnimationFrame(frame);
}

function openModal(){
  lastFocus = document.activeElement;
  document.body.style.overflow = "hidden";

  const s = pickNewSurprise();
  if(s){
    document.getElementById("surpriseTitle").textContent = s.title;
    document.getElementById("surpriseBody").textContent = s.body;
    renderTags(s.tags || []);
  }

  overlay.classList.add("show");
  overlay.setAttribute("aria-hidden", "false");

  closeBtn.focus();
  burstHearts();
}

function closeModal(){
  overlay.classList.remove("show");
  overlay.setAttribute("aria-hidden", "true");
  document.body.style.overflow = "";

  if(lastFocus) lastFocus.focus();
}

openBtn.addEventListener("click", openModal);
closeBtn.addEventListener("click", closeModal);
overlay.addEventListener("click", (e)=>{ if(e.target === overlay) closeModal(); });
document.addEventListener("keydown", (e)=>{ if(e.key === "Escape") closeModal(); });

// Copy sweet line
const toast = document.getElementById("toast");
const copyBtn = document.getElementById("copyBtn");

function showToast(){
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"), 1200);
}

copyBtn.addEventListener("click", async ()=>{
  const line = config.copyLines[Math.floor(Math.random() * config.copyLines.length)];
  try{
    await navigator.clipboard.writeText(line);
    showToast();
  }catch{
    const temp = document.createElement("textarea");
    temp.value = line;
    document.body.appendChild(temp);
    temp.select();
    document.execCommand("copy");
    document.body.removeChild(temp);
    showToast();
  }
});

// Share button (mobile-friendly)
document.getElementById("shareBtn").addEventListener("click", async ()=>{
  const text =
    `${document.getElementById("surpriseTitle").textContent}\n\n` +
    `${document.getElementById("surpriseBody").textContent}`;

  if(navigator.share){
    try{
      await navigator.share({ title: "For you üíó", text });
    }catch{}
  }else{
    try{
      await navigator.clipboard.writeText(text);
      showToast();
    }catch{
      // fallback
      const temp = document.createElement("textarea");
      temp.value = text;
      document.body.appendChild(temp);
      temp.select();
      document.execCommand("copy");
      document.body.removeChild(temp);
      showToast();
    }
  }
});

// Initial tags render
renderTags(config.surprises?.[0]?.tags || []);
</script>

</body>
</html>
